{"ast":null,"code":"var _jsxFileName = \"D:\\\\vitus\\\\Documents\\\\Szakdolgozat\\\\AuctionApplication\\\\ClientApplication\\\\src\\\\Auctions\\\\AuctionsPrivate.tsx\";\nimport React from \"react\";\nimport { useState } from 'react';\nimport { useEffect } from 'react';\nimport axios from 'axios';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Card from 'react-bootstrap/Card';\nimport Image from '../Common/Image';\nimport Button from 'react-bootstrap/Button';\nimport SearchBox from \"../Common/SearchBox\";\nimport CreateAuction from \"./CreateAuction\";\nimport userId from \"../Services/UserService\";\nimport { Link } from \"react-router-dom\";\nexport default function AuctionList(props) {\n  let a = [];\n  const [data, setData] = useState(a);\n  const [finaldata, setFinalData] = useState(a);\n  const [isError, setIsError] = useState(false);\n  const [searchtext, setSearchText] = useState('');\n  const [create, setCreate] = useState(false);\n  useEffect(() => {\n    const fetchData = async () => {\n      setIsError(false);\n\n      try {\n        const res = await axios.get('https://localhost:5001/api/auction?userId=' + userId().id);\n        setData(res.data);\n        setFinalData(res.data);\n      } catch (error) {\n        setIsError(true);\n        console.log(error);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  const handleSearch = t => {\n    if (t !== '') {\n      setSearchText(t);\n      var seged = data.filter(item => item.thingName.toLowerCase().includes(searchtext.toLowerCase()));\n      setFinalData(seged);\n      console.log(t);\n    } else {\n      setSearchText(t);\n      setFinalData(data);\n    }\n  };\n\n  const handleCreate = b => {\n    setCreate(b);\n  };\n\n  if (create === false) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, isError && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Something went wrong ...\"), React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(SearchBox, {\n      ClickHandler: handleSearch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, finaldata.map(item => React.createElement(Col, {\n      xs: 12,\n      md: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }), React.createElement(Card, {\n      className: \"shadow bg-dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(Image, {\n      id: item.thingID,\n      small: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    })), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Card.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, item.thingName), item.statusz === 1 ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Active\") : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Upcoming\"))), item.statusz === 1 ? React.createElement(Card.Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(Card.Link, {\n      href: \"/expandtime\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Expand auction time\")) : React.createElement(Card.Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: {\n        pathname: '/expandtime',\n        state: {\n          id: 1\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"Create Idea\"), React.createElement(Card.Link, {\n      href: \"/expandtime\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Modify\"), React.createElement(Card.Link, {\n      href: \"/expandtime\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Delete\")))))), React.createElement(Button, {\n      onClick: () => handleCreate(true),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"Create new auction \")));\n  } else {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(CreateAuction, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }));\n  }\n}","map":{"version":3,"sources":["D:/vitus/Documents/Szakdolgozat/AuctionApplication/ClientApplication/src/Auctions/AuctionsPrivate.tsx"],"names":["React","useState","useEffect","axios","Container","Row","Col","Card","Image","Button","SearchBox","CreateAuction","userId","Link","AuctionList","props","a","data","setData","finaldata","setFinalData","isError","setIsError","searchtext","setSearchText","create","setCreate","fetchData","res","get","id","error","console","log","handleSearch","t","seged","filter","item","thingName","toLowerCase","includes","handleCreate","b","map","thingID","statusz","pathname","state"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useState } from 'react';\r\nimport { useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Image from '../Common/Image';\r\nimport Button from 'react-bootstrap/Button';\r\nimport SearchBox from \"../Common/SearchBox\";\r\nimport SingleAuction from \"./SingleAuction\";\r\nimport CreateAuction from \"./CreateAuction\";\r\nimport { Auction } from '../Common/Interfaces';\r\nimport userId from \"../Services/UserService\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link\r\n} from \"react-router-dom\";\r\n\r\ninterface IProps{\r\n  ClickHandler1: (prop : any[]) => void\r\n  ClickHandler2: (prop:boolean) => void\r\n  b : boolean\r\n  list :any[]\r\n}\r\n\r\n\r\n\r\nexport default function AuctionList(props : IProps){\r\n  let a : Auction[] =[];\r\n    const [data, setData] = useState(a);\r\n    const [finaldata, setFinalData] = useState(a);\r\n    const [isError, setIsError] = useState(false);\r\n    const [searchtext,setSearchText]=useState('');\r\n    const [create, setCreate]=useState(false);\r\n\r\n    useEffect(() => {\r\n      const fetchData = async () => {\r\n        setIsError(false);\r\n        try {\r\n          const res = await axios.get<Auction[]>('https://localhost:5001/api/auction?userId='+ userId().id,);\r\n          setData(res.data);\r\n          setFinalData(res.data);\r\n        } catch (error) {\r\n          setIsError(true);\r\n          console.log(error);\r\n        }\r\n      };\r\n      fetchData();\r\n    },[]);\r\n\r\n  const handleSearch=(t : string)=>{\r\n    if(t !== '')\r\n    {\r\n      setSearchText(t);\r\n      var seged= data.filter((item)=>item.thingName.toLowerCase().includes(searchtext.toLowerCase()));\r\n      setFinalData(seged);\r\n      console.log(t);\r\n    }\r\n    else {\r\n      setSearchText(t);\r\n      setFinalData(data);\r\n    }\r\n  }\r\n\r\n  const handleCreate=(b : boolean) => {\r\n    setCreate(b);\r\n  }\r\n\r\n\r\nif(create === false)\r\n{\r\n  return (\r\n    <div>\r\n      {isError && <div>Something went wrong ...</div>}\r\n        <Container>\r\n            <SearchBox ClickHandler={handleSearch}/>\r\n            <Row>\r\n            {\r\n            finaldata.map(item => (\r\n                <Col  xs={12} md={6}>\r\n                  <br/>\r\n                 <Card className=\"shadow bg-dark\" >\r\n                    <Row>\r\n                        <Col xs={4}>\r\n                            <Image id={item.thingID} small={true}/>\r\n                        </Col>\r\n                        <Col>\r\n                            <Card.Title>{item.thingName}</Card.Title>\r\n                            {item.statusz === 1 ? (<div>Active</div>) : (<div>Upcoming</div>)}\r\n                        </Col>\r\n                     </Row>\r\n                     {(\r\n                       (item.statusz === 1) ? \r\n                       (\r\n                          <Card.Footer>\r\n                            <Card.Link href=\"/expandtime\">Expand auction time</Card.Link>\r\n                          </Card.Footer>\r\n                       ) :\r\n                       (\r\n                        <Card.Footer>\r\n                          <Link to={{pathname: '/expandtime', state:{id: 1}}}>Create Idea</Link>\r\n                            <Card.Link  href=\"/expandtime\">Modify</Card.Link>\r\n                            <Card.Link  href=\"/expandtime\">Delete</Card.Link>\r\n                        </Card.Footer>\r\n                       )\r\n                     )}\r\n                     \r\n                 </Card>\r\n              </Col>\r\n            ))}\r\n             </Row>\r\n             <Button onClick={() => handleCreate(true)}>Create new auction </Button>\r\n          </Container>  \r\n      \r\n    </div>\r\n  ); \r\n}\r\nelse\r\n{\r\n  return(\r\n    <div>\r\n    <CreateAuction />\r\n    </div>\r\n  )\r\n}\r\n  \r\n}"]},"metadata":{},"sourceType":"module"}