{"ast":null,"code":"var _jsxFileName = \"D:\\\\vitus\\\\Documents\\\\Szakdolgozat\\\\AuctionApplication\\\\ClientApplication\\\\src\\\\User\\\\Login.tsx\";\nimport React, { useState } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport axios from 'axios';\nimport { useAuth } from \"../Services/AuthService\";\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Card from 'react-bootstrap/Card';\nimport AccountPic from '../Outlook/Images/greyuser.png';\nexport default function Login() {\n  const [isLoggedIn, setLoggedIn] = useState(false);\n  const [isError, setIsError] = useState(false);\n  const [error, setError] = useState('');\n  const [userName, setUserName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const {\n    setAuthTokens\n  } = useAuth();\n\n  function postLogin() {\n    axios.post(\"https://localhost:5001/api/users/authenticate\", {\n      \"email\": userName,\n      \"password\": password\n    }).then(result => {\n      if (result.status === 200) {\n        setAuthTokens(result.data);\n        setLoggedIn(true);\n      } else {\n        setIsError(true);\n      }\n    }).catch(e => {\n      setIsError(true);\n      console.log(e.body.message);\n      setError(e.message);\n    });\n  }\n\n  if (isLoggedIn) {\n    return React.createElement(Redirect, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    });\n  }\n\n  return React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(Col, {\n    xs: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }), React.createElement(Col, {\n    xs: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }), React.createElement(Card, {\n    className: \"shadow\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(Card.Img, {\n    src: AccountPic,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }), React.createElement(Form, {\n    validated: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(Form.Group, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(Form.Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"Email:\"), React.createElement(Form.Control, {\n    type: \"email\",\n    value: userName,\n    onChange: e => {\n      setUserName(e.currentTarget.value);\n    },\n    placeholder: \"example@email.com\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  })), React.createElement(Form.Group, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(Form.Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"Password: \"), React.createElement(Form.Control, {\n    type: \"password\",\n    value: password,\n    onChange: e => {\n      setPassword(e.currentTarget.value);\n    },\n    placeholder: \"password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  })), isError && React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(Form.Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \"The username or password provided were incorrect!\"), React.createElement(Form.Text, {\n    className: \"alert-danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, error), React.createElement(Link, {\n    to: \"/*\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"Forgot your password?\")), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }), React.createElement(Button, {\n    onClick: postLogin,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"Sign In\")), React.createElement(Link, {\n    to: \"/signup\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"Don't have an account?\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }))), React.createElement(Col, {\n    xs: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }));\n}","map":{"version":3,"sources":["D:/vitus/Documents/Szakdolgozat/AuctionApplication/ClientApplication/src/User/Login.tsx"],"names":["React","useState","Link","Redirect","axios","useAuth","Form","Button","Row","Col","Card","AccountPic","Login","isLoggedIn","setLoggedIn","isError","setIsError","error","setError","userName","setUserName","password","setPassword","setAuthTokens","postLogin","post","then","result","status","data","catch","e","console","log","body","message","currentTarget","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport axios from 'axios';\r\nimport { useAuth } from \"../Services/AuthService\";\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Card from 'react-bootstrap/Card';\r\nimport AccountPic from '../Outlook/Images/greyuser.png';\r\n\r\n\r\nexport default function Login() {\r\n    const [isLoggedIn, setLoggedIn] = useState(false);\r\n    const [isError, setIsError] = useState(false);\r\n    const [error, setError] = useState('');\r\n    const [userName, setUserName] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const  { setAuthTokens }  = useAuth();\r\n    \r\n\r\n    function postLogin() {\r\n        axios.post(\"https://localhost:5001/api/users/authenticate\", {\r\n          \"email\": userName,\r\n          \"password\": password\r\n        }).then(result => {\r\n                 if (result.status === 200) {\r\n                      setAuthTokens(result.data);\r\n                      setLoggedIn(true);\r\n                  }\r\n                 else {\r\n                      setIsError(true);\r\n                  }\r\n          }).catch(e => {\r\n                  setIsError(true);\r\n                  console.log(e.body.message)\r\n                  setError(e.message);\r\n          });\r\n      }\r\n    \r\n      if (isLoggedIn) {\r\n        return <Redirect to=\"/\" />;\r\n      }\r\n    \r\n      return (\r\n        <Row>\r\n               <Col xs={4}>\r\n               </Col>\r\n               <Col xs={4}>\r\n                    <br/>\r\n                    <Card className=\"shadow\">   \r\n                        <Card.Img src={AccountPic}/>\r\n                        <Form validated={true}>\r\n                            <Form.Group>\r\n                                <Form.Label>Email:</Form.Label>\r\n                                <Form.Control\r\n                                 type=\"email\"\r\n                                  value={userName}\r\n                                   onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n                                  setUserName(e.currentTarget.value);\r\n                                 }}\r\n                                 placeholder=\"example@email.com\"\r\n                                 />\r\n                            </Form.Group>\r\n                            <Form.Group>\r\n                                <Form.Label>Password: </Form.Label>\r\n                                 <Form.Control\r\n                                   type=\"password\"\r\n                                  value={password}\r\n                                   onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n                                   setPassword(e.currentTarget.value);\r\n                                   }}\r\n                                  placeholder=\"password\"\r\n                                   />\r\n                            </Form.Group>\r\n                            {isError && \r\n                                    <div>\r\n                                      <Form.Text>The username or password provided were incorrect!</Form.Text> \r\n                                      <Form.Text className=\"alert-danger\">{error}</Form.Text>\r\n                                      <Link to=\"/*\">Forgot your password?</Link>\r\n                                    </div>\r\n                            }\r\n                            <br/>\r\n                            <Button onClick={postLogin}>Sign In</Button>\r\n                        </Form>\r\n                        <Link to=\"/signup\">Don't have an account?</Link>\r\n                        <br/>\r\n                    </Card>\r\n                </Col>\r\n                <Col xs={4}>\r\n                </Col>\r\n          </Row>   \r\n      );\r\n    }\r\n\r\n"]},"metadata":{},"sourceType":"module"}