{"ast":null,"code":"var _jsxFileName = \"D:\\\\vitus\\\\Documents\\\\Szakdolgozat\\\\AuctionApplication\\\\ClientApplication\\\\src\\\\Things\\\\Things.tsx\";\nimport React from \"react\";\nimport { useState } from 'react';\nimport { useEffect } from 'react';\nimport axios from 'axios';\nimport Container from 'react-bootstrap/Container';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport Card from 'react-bootstrap/Card';\nimport Button from \"react-bootstrap/Button\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport Image from '../Common/Image';\nimport SearchBox from '../Common/SearchBox';\nimport ThingCreate from './CreateThing';\nimport authHeader from \"../Services/TokenService\";\nimport userId from '../Services/UserService';\nexport default function ThingList() {\n  let a = [];\n  const [data, setData] = useState(a);\n  const [finaldata, setFinalData] = useState(a);\n  const [isError, setIsError] = useState(false);\n  const [selected, setSelected] = useState(0);\n  const [isSelected, setSelect] = useState(false);\n  const [searchtext, setSearchText] = useState('');\n  const [create, setCreate] = useState(false);\n  useEffect(() => {\n    const fetchData = async () => {\n      setIsError(false);\n\n      try {\n        const res = await axios.get('https://localhost:5001/api/thing?userId=' + userId().id, {\n          headers: authHeader()\n        });\n        setData(res.data);\n        setFinalData(res.data);\n      } catch (error) {\n        setIsError(true);\n        console.log(error);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  const handleBack = () => {\n    setSelect(false);\n  };\n\n  const handleSearch = t => {\n    if (t !== '') {\n      setSearchText(t);\n      var seged = data.filter(item => item.name.toLowerCase().includes(searchtext.toLowerCase()));\n      setFinalData(seged);\n      console.log(t);\n    } else {\n      setSearchText(t);\n      setFinalData(data);\n    }\n  };\n\n  const handleCreate = b => {\n    setCreate(b);\n  };\n\n  if (create === false) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, isError && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Something went wrong ...\"), isSelected ? React.createElement(React.Fragment, null) : React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(SearchBox, {\n      ClickHandler: handleSearch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, finaldata.map(item => React.createElement(Col, {\n      xs: 12,\n      md: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), React.createElement(Card, {\n      className: \"shadow bg-dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(Col, {\n      md: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(Image, {\n      id: item.id,\n      small: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    })), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(Card.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, item.name), React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, item.description))), React.createElement(Card.Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(Card.Link, {\n      href: \"/modifything\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Modify\"), React.createElement(Card.Link, {\n      href: \"/deletething\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Delete\")))))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(Button, {\n      onClick: () => handleCreate(true),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Create new thing \")));\n  } else {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(ThingCreate, {\n      ClickHandler: handleCreate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }));\n  }\n}","map":{"version":3,"sources":["D:/vitus/Documents/Szakdolgozat/AuctionApplication/ClientApplication/src/Things/Things.tsx"],"names":["React","useState","useEffect","axios","Container","Col","Row","Card","Button","Image","SearchBox","ThingCreate","authHeader","userId","ThingList","a","data","setData","finaldata","setFinalData","isError","setIsError","selected","setSelected","isSelected","setSelect","searchtext","setSearchText","create","setCreate","fetchData","res","get","id","headers","error","console","log","handleBack","handleSearch","t","seged","filter","item","name","toLowerCase","includes","handleCreate","b","map","description"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useState } from 'react';\r\nimport { useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Button from \"react-bootstrap/Button\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport Image from '../Common/Image';\r\nimport SearchBox from '../Common/SearchBox';\r\nimport ThingCreate from './CreateThing';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link\r\n} from \"react-router-dom\";\r\nimport authHeader from \"../Services/TokenService\";\r\nimport { Thing } from \"../Common/Interfaces\";\r\nimport  userId  from '../Services/UserService';\r\n\r\n\r\n\r\n export default function ThingList(){\r\n      let a : Thing[]=[];   \r\n      const [data, setData] = useState<Thing[]>(a);\r\n      const [finaldata, setFinalData] = useState<Thing[]>(a);\r\n      const [isError, setIsError] = useState(false);\r\n      const [selected,setSelected] = useState(0);\r\n      const [isSelected,setSelect]=useState(false);\r\n      const [searchtext,setSearchText]=useState('');\r\n      const [create, setCreate]=useState(false);\r\n      \r\n  \r\n      useEffect(() => {\r\n        const fetchData = async () => {\r\n          setIsError(false);\r\n          try {\r\n            const res = await axios.get<Thing[]>('https://localhost:5001/api/thing?userId='+userId().id,{ headers: authHeader() });\r\n            setData(res.data);\r\n            setFinalData(res.data);\r\n          } catch (error) {\r\n            setIsError(true);\r\n            console.log(error);\r\n          }\r\n        };\r\n        fetchData();\r\n      },[]);\r\n  \r\n    const handleBack=()=> {setSelect(false);}\r\n    const handleSearch=(t : string)=>{\r\n      if(t !== '')\r\n      {\r\n        setSearchText(t);\r\n        var seged= data.filter((item)=>item.name.toLowerCase().includes(searchtext.toLowerCase()));\r\n        setFinalData(seged);\r\n        console.log(t);\r\n      }\r\n      else {\r\n        setSearchText(t);\r\n        setFinalData(data);\r\n      }\r\n    }\r\n    const handleCreate=(b : boolean) => {\r\n      setCreate(b);\r\n    }\r\n  \r\n    if(create === false)\r\n    {\r\n      return (\r\n        <div>\r\n          {isError && <div>Something went wrong ...</div>}\r\n          {isSelected ? ( \r\n            <></>\r\n          ) : (\r\n            <Container>\r\n              <SearchBox ClickHandler={handleSearch}/>\r\n              <Row>\r\n              {\r\n              finaldata.map(item => (\r\n                  <Col  xs={12} md={12}>\r\n                    <br/>\r\n                   <Card className=\"shadow bg-dark\">\r\n                    <Row> \r\n                      <Col md={2}>\r\n                   <Image id={item.id} small={true}/>\r\n                   </Col>\r\n                   <Col>\r\n                      <Card.Title>{item.name}</Card.Title>\r\n                      <Card.Body>{item.description} \r\n                      \r\n                      </Card.Body>\r\n                      </Col>\r\n                     </Row>  \r\n                     <Card.Footer>\r\n                          <Card.Link href=\"/modifything\">Modify</Card.Link>\r\n                          <Card.Link href=\"/deletething\">Delete</Card.Link>\r\n                     </Card.Footer>\r\n                   </Card>\r\n                  </Col>\r\n              ))}\r\n               </Row>\r\n               <br/>\r\n               <Button  onClick={() => handleCreate(true)}>Create new thing </Button>\r\n            </Container>  \r\n          )}\r\n        </div>\r\n      ); \r\n    }\r\n    \r\n    else\r\n    {\r\n      return(\r\n        <div>\r\n        <ThingCreate ClickHandler={handleCreate}/>\r\n        </div>\r\n      );\r\n    }\r\n    \r\n  }\r\n  "]},"metadata":{},"sourceType":"module"}