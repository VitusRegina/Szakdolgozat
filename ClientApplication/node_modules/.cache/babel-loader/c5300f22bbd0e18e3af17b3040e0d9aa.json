{"ast":null,"code":"var _jsxFileName = \"D:\\\\vitus\\\\Documents\\\\Szakdolgozat\\\\AuctionApplication\\\\ClientApplication\\\\src\\\\Auctions\\\\SendBid.tsx\";\nimport React from \"react\";\nimport { useState } from 'react';\nimport axios from 'axios';\nimport Button from \"react-bootstrap/Button\";\nimport { useAuth } from \"../Services/AuthService\";\nimport authHeader from \"../Services/TokenService\";\nimport userId from '../Services/UserService';\nexport default function SendBid(props) {\n  const [sum, setSum] = useState(props.sum);\n  const [aucid, setId] = useState(props.id);\n  const {\n    authTokens\n  } = useAuth();\n  const userid = userId().id;\n  const username = userId().username;\n  const now = new Date();\n\n  function handleChange(e) {\n    setSum(+e.currentTarget.value);\n  }\n\n  const handleSubmit = async () => {\n    if (sum > props.sum) {\n      await axios.post('https://localhost:5001/api/bid', {\n        \"sum\": sum,\n        \"auctionid\": aucid,\n        \"personid\": userid,\n        \"personName\": username,\n        \"time\": now\n      }, {\n        headers: authHeader()\n      });\n    }\n  };\n\n  if (authTokens) return React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"input-group-prepend text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"number\",\n    value: sum,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"input-group-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"Ft\")), React.createElement(Button, {\n    className: \"btn\",\n    onClick: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"Send bid\")));else {\n    return React.createElement(\"div\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"You should \", React.createElement(\"a\", {\n      href: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"sign in\"), \" before you can bid\");\n  }\n}","map":{"version":3,"sources":["D:/vitus/Documents/Szakdolgozat/AuctionApplication/ClientApplication/src/Auctions/SendBid.tsx"],"names":["React","useState","axios","Button","useAuth","authHeader","userId","SendBid","props","sum","setSum","aucid","setId","id","authTokens","userid","username","now","Date","handleChange","e","currentTarget","value","handleSubmit","post","headers"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,OAAzB;AAGA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AAKA,SAASC,OAAT,QAAwB,yBAAxB;AAGA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAQC,MAAR,MAAqB,yBAArB;AASE,eAAe,SAASC,OAAT,CAAiBC,KAAjB,EAA8B;AAC3C,QAAM,CAACC,GAAD,EAAMC,MAAN,IAAgBT,QAAQ,CAACO,KAAK,CAACC,GAAP,CAA9B;AACA,QAAM,CAACE,KAAD,EAAQC,KAAR,IAAiBX,QAAQ,CAACO,KAAK,CAACK,EAAP,CAA/B;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAiBV,OAAO,EAA9B;AACA,QAAMW,MAAM,GAAGT,MAAM,GAAGO,EAAxB;AACA,QAAMG,QAAQ,GAAGV,MAAM,GAAGU,QAA1B;AACA,QAAMC,GAAU,GAAG,IAAIC,IAAJ,EAAnB;;AAEA,WAASC,YAAT,CAAsBC,CAAtB,EAA4D;AAC1DV,IAAAA,MAAM,CAAC,CAACU,CAAC,CAACC,aAAF,CAAgBC,KAAlB,CAAN;AACD;;AAED,QAAMC,YAAY,GAAE,YAAW;AAC9B,QAAGd,GAAG,GAACD,KAAK,CAACC,GAAb,EAAiB;AAChB,YAAMP,KAAK,CAACsB,IAAN,CAAW,gCAAX,EAA6C;AAC/C,eAAOf,GADwC;AAE/C,qBAAaE,KAFkC;AAG/C,oBAAYI,MAHmC;AAI/C,sBAAaC,QAJkC;AAK/C,gBAAQC;AALuC,OAA7C,EAMF;AAAEQ,QAAAA,OAAO,EAAEpB,UAAU;AAArB,OANE,CAAN;AAOC;AACF,GAVD;;AAYA,MAAGS,UAAH,EACE,OAEM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAO,IAAA,SAAS,EAAC,iCAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAO,IAAA,SAAS,EAAC,cAAjB;AAAgC,IAAA,IAAI,EAAC,QAArC;AAA8C,IAAA,KAAK,EAAEL,GAArD;AAA0D,IAAA,QAAQ,EAAEU,YAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,EAEC;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFD,CADA,EAKC,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAC,KAAlB;AAAwB,IAAA,OAAO,EAAEI,YAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALD,CADJ,CAFN,CADF,KAgBE;AACE,WACE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAwC;AAAG,MAAA,IAAI,EAAC,QAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAxC,wBADF;AAGD;AAEF","sourcesContent":["import React from \"react\";\r\nimport { useState } from 'react';\r\nimport { useEffect } from 'react';\r\nimport { HubConnection, HubConnectionBuilder } from '@aspnet/signalr';\r\nimport axios from 'axios';\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport { useAuth } from \"../Services/AuthService\";\r\nimport Moment from 'react-moment';\r\nimport { Bid } from '../Common/Interfaces';\r\nimport authHeader from \"../Services/TokenService\";\r\nimport  userId  from '../Services/UserService';\r\nimport { stringFromDate } from '../Services/DateService';\r\n\r\ninterface IProps {\r\n    id : number;\r\n    sum : number;\r\n  }\r\n\r\n\r\n  export default function SendBid(props:IProps){\r\n    const [sum, setSum] = useState(props.sum);\r\n    const [aucid, setId] = useState(props.id);\r\n    const { authTokens } = useAuth();\r\n    const userid = userId().id;\r\n    const username = userId().username;\r\n    const now : Date = new Date();\r\n    \r\n    function handleChange(e: React.FormEvent<HTMLInputElement>) {\r\n      setSum(+e.currentTarget.value);\r\n    }\r\n    \r\n    const handleSubmit= async ()=> {\r\n     if(sum>props.sum){\r\n      await axios.post('https://localhost:5001/api/bid', {\r\n          \"sum\": sum,\r\n          \"auctionid\": aucid,\r\n          \"personid\": userid,\r\n          \"personName\":username,\r\n          \"time\": now\r\n        },{ headers: authHeader() });\r\n      }\r\n    }\r\n    \r\n    if(authTokens)\r\n      return (\r\n        \r\n            <form>\r\n                <div className=\"text-center\">\r\n                <label className=\"input-group-prepend text-center\">\r\n                 <input className=\"form-control\" type=\"number\" value={sum} onChange={handleChange} />\r\n                 <div className=\"input-group-text\">Ft</div>\r\n                 </label>\r\n                 <Button className=\"btn\" onClick={handleSubmit}>Send bid</Button>\r\n                 \r\n            </div>\r\n        </form>\r\n       \r\n      );\r\n      else\r\n      {\r\n        return(\r\n          <div className=\"text-center\">You should <a href=\"/login\">sign in</a> before you can bid</div>\r\n        )\r\n      }\r\n      \r\n    }"]},"metadata":{},"sourceType":"module"}