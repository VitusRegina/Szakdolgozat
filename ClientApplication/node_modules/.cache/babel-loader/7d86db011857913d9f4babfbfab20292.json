{"ast":null,"code":"var _jsxFileName = \"D:\\\\vitus\\\\Documents\\\\Szakdolgozat\\\\AuctionApplication\\\\ClientApplication\\\\src\\\\User\\\\Login.tsx\";\nimport React, { useState } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport axios from 'axios';\nimport { useAuth } from \"../Services/AuthService\";\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Card from 'react-bootstrap/Card';\nimport AccountPic from '../Outlook/Images/greyuser.png';\nexport default function Login() {\n  const [isLoggedIn, setLoggedIn] = useState(false);\n  const [isError, setIsError] = useState(false);\n  const [error, setError] = useState('');\n  const [userName, setUserName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const {\n    setAuthTokens\n  } = useAuth();\n\n  function postLogin() {\n    axios.post(\"https://localhost:5001/api/users/authenticate\", {\n      \"email\": userName,\n      \"password\": password\n    }).then(result => {\n      setAuthTokens(result.data);\n      setLoggedIn(true);\n    }).catch(e => {\n      setIsError(true);\n      setError(e.response.data.message);\n    });\n  }\n\n  if (isLoggedIn) {\n    return React.createElement(Redirect, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    });\n  }\n\n  return React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(Col, {\n    xs: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }), React.createElement(Col, {\n    xs: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }), React.createElement(Card, {\n    className: \"shadow\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(Card.Img, {\n    src: AccountPic,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }), React.createElement(Form, {\n    validated: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(Form.Group, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(Form.Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"Email:\"), React.createElement(Form.Control, {\n    type: \"email\",\n    value: userName,\n    onChange: e => {\n      setUserName(e.currentTarget.value);\n    },\n    placeholder: \"example@email.com\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  })), React.createElement(Form.Group, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(Form.Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, \"Password: \"), React.createElement(Form.Control, {\n    type: \"password\",\n    value: password,\n    onChange: e => {\n      setPassword(e.currentTarget.value);\n    },\n    placeholder: \"password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  })), isError && React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(Form.Text, {\n    className: \"text-danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, error), React.createElement(Link, {\n    to: \"/passwordrecover\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"Forgot your password?\")), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }), React.createElement(Button, {\n    onClick: postLogin,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"Sign In\")), React.createElement(Link, {\n    to: \"/signup\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"Don't have an account?\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }))), React.createElement(Col, {\n    xs: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }));\n}","map":{"version":3,"sources":["D:/vitus/Documents/Szakdolgozat/AuctionApplication/ClientApplication/src/User/Login.tsx"],"names":["React","useState","Link","Redirect","axios","useAuth","Form","Button","Row","Col","Card","AccountPic","Login","isLoggedIn","setLoggedIn","isError","setIsError","error","setError","userName","setUserName","password","setPassword","setAuthTokens","postLogin","post","then","result","data","catch","e","response","message","currentTarget","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport axios from 'axios';\r\nimport { useAuth } from \"../Services/AuthService\";\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Card from 'react-bootstrap/Card';\r\nimport AccountPic from '../Outlook/Images/greyuser.png';\r\n\r\n\r\nexport default function Login() {\r\n    const [isLoggedIn, setLoggedIn] = useState(false);\r\n    const [isError, setIsError] = useState(false);\r\n    const [error, setError] = useState('');\r\n    const [userName, setUserName] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const  { setAuthTokens }  = useAuth();\r\n    \r\n\r\n    function postLogin() {\r\n        axios.post(\"https://localhost:5001/api/users/authenticate\", {\r\n          \"email\": userName,\r\n          \"password\": password\r\n        }).then(result => {\r\n                      setAuthTokens(result.data);\r\n                      setLoggedIn(true);\r\n          }).catch(e => {\r\n                  setIsError(true);  \r\n                  setError(e.response.data.message);    \r\n          });\r\n      }\r\n    \r\n      if (isLoggedIn) {\r\n        return <Redirect to=\"/\" />;\r\n      }\r\n    \r\n      return (\r\n        <Row>\r\n               <Col xs={4}>\r\n               </Col>\r\n               <Col xs={4}>\r\n                    <br/>\r\n                    <Card className=\"shadow\">   \r\n                        <Card.Img src={AccountPic}/>\r\n                        <Form validated={true}>\r\n                            <Form.Group>\r\n                                <Form.Label>Email:</Form.Label>\r\n                                <Form.Control\r\n                                 type=\"email\"\r\n                                  value={userName}\r\n                                   onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n                                  setUserName(e.currentTarget.value);\r\n                                 }}\r\n                                 placeholder=\"example@email.com\"\r\n                                 />\r\n                            </Form.Group>\r\n                            <Form.Group>\r\n                                <Form.Label>Password: </Form.Label>\r\n                                 <Form.Control\r\n                                   type=\"password\"\r\n                                  value={password}\r\n                                   onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n                                   setPassword(e.currentTarget.value);\r\n                                   }}\r\n                                  placeholder=\"password\"\r\n                                   />\r\n                            </Form.Group>\r\n                            {isError && \r\n                                    <div>\r\n                                      <Form.Text className=\"text-danger\">{error}</Form.Text>\r\n                                      <Link to=\"/passwordrecover\">Forgot your password?</Link>\r\n                                    </div>\r\n                            }\r\n                            <br/>\r\n                            <Button onClick={postLogin}>Sign In</Button>\r\n                        </Form>\r\n                        <Link to=\"/signup\">Don't have an account?</Link>\r\n                        <br/>\r\n                    </Card>\r\n                </Col>\r\n                <Col xs={4}>\r\n                </Col>\r\n          </Row>   \r\n      );\r\n    }\r\n\r\n"]},"metadata":{},"sourceType":"module"}