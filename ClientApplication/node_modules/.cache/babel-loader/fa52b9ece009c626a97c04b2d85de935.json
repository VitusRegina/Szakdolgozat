{"ast":null,"code":"var _jsxFileName = \"D:\\\\vitus\\\\Documents\\\\Szakdolgozat\\\\AuctionApplication\\\\ClientApplication\\\\src\\\\Things\\\\CreateThing.tsx\";\nimport React from \"react\";\nimport { useState } from 'react';\nimport axios from 'axios';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from \"react-bootstrap/Button\";\nimport Form from \"react-bootstrap/Form\";\nimport authHeader from \"../Services/TokenService\";\nimport userId from \"../Services/UserService\";\nlet l;\nlet s;\nexport default function Create(props) {\n  const [name, setName] = useState(s);\n  const [description, setDescription] = useState(s);\n  const [image, setImage] = useState(l);\n  const [data, setData] = useState();\n  const [id, setId] = useState(s);\n\n  function handleChange1(e) {\n    setName(e.currentTarget.value);\n    console.log(name);\n  }\n\n  function handleChange2(e) {\n    setDescription(e.currentTarget.value);\n    console.log(description);\n  }\n\n  function handleImageChange(selectorFiles) {\n    if (selectorFiles !== null) setImage(selectorFiles[0]);\n  }\n\n  ;\n\n  const handleSubmit = async () => {\n    try {\n      const res = await axios.post('https://localhost:5001/api/thing', {\n        \"name\": name,\n        \"desccription\": description,\n        \"userid\": userId().id,\n        \"kategoria\": 2\n      }, {\n        headers: authHeader()\n      });\n      setData(res.data);\n    } catch (error) {\n      console.log(error);\n    }\n\n    let formData = new FormData();\n    formData.append(\"thingID\", '18');\n    formData.append('file', image);\n    const config = {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    };\n    axios.post(\"https://localhost:5001/api/image\", formData, config).then(result => {\n      console.log(result.status);\n    });\n  };\n\n  const handleBack = () => {\n    props.ClickHandler(false);\n  };\n\n  return React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(Col, {\n    xs: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }), React.createElement(Col, {\n    xs: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }), React.createElement(Form, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(Form.Group, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(Form.Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \" Name:\"), React.createElement(Form.Control, {\n    type: \"text\",\n    value: name,\n    onChange: handleChange1,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  })), React.createElement(Form.Group, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(Form.Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, \"Description:\"), React.createElement(Form.Control, {\n    type: \"text\",\n    value: description,\n    onChange: handleChange2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  })), React.createElement(Form.Group, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, React.createElement(Form.Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, React.createElement(Form.Control, {\n    type: \"file\",\n    id: \"file\",\n    name: \"file\",\n    accept: \"image/png, image/jpeg\",\n    onChange: e => handleImageChange(e.currentTarget.files),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }))), React.createElement(Form.Group, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, React.createElement(Button, {\n    onClick: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, \"Submit\"), React.createElement(Button, {\n    onClick: handleBack,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, \"Back\")))), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }))));\n}","map":{"version":3,"sources":["D:/vitus/Documents/Szakdolgozat/AuctionApplication/ClientApplication/src/Things/CreateThing.tsx"],"names":["React","useState","axios","Container","Row","Col","Button","Form","authHeader","userId","l","s","Create","props","name","setName","description","setDescription","image","setImage","data","setData","id","setId","handleChange1","e","currentTarget","value","console","log","handleChange2","handleImageChange","selectorFiles","handleSubmit","res","post","headers","error","formData","FormData","append","config","then","result","status","handleBack","ClickHandler","files"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useState } from 'react';\r\nimport axios from 'axios';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport authHeader from \"../Services/TokenService\";\r\nimport { Thing } from \"../Common/Interfaces\"\r\nimport ThingList from \"./Things\";\r\nimport userId from \"../Services/UserService\";\r\n\r\n\r\ninterface IProp{\r\n  ClickHandler: (b : boolean) => void\r\n}\r\nlet l: File;\r\nlet s:string;\r\n\r\nexport default function Create(props: IProp) {\r\n    const [name, setName] = useState(s);\r\n    const [description, setDescription] = useState(s);\r\n    const [image,setImage]=useState(l);  \r\n    const [data, setData] = useState<Thing>();\r\n    const [id,setId]=useState(s);\r\n  \r\n    function handleChange1(e: React.ChangeEvent<HTMLInputElement> | any) {\r\n      setName(e.currentTarget.value);\r\n      console.log(name);\r\n    }\r\n\r\n    function handleChange2(e: React.ChangeEvent<HTMLInputElement> | any) {\r\n        setDescription(e.currentTarget.value);\r\n        console.log(description)\r\n      }\r\n\r\n    function handleImageChange(selectorFiles: FileList | null ){\r\n      if(selectorFiles !== null)\r\n          setImage(selectorFiles[0]);\r\n      };\r\n  \r\n    const handleSubmit= async ()=> {\r\n        try {\r\n          const res = await axios.post('https://localhost:5001/api/thing',{\r\n             \"name\": name,\r\n             \"desccription\": description,\r\n             \"userid\": userId().id,\r\n             \"kategoria\": 2 \r\n           },{ headers: authHeader() });\r\n          setData(res.data);\r\n         } catch (error) {\r\n            console.log(error);\r\n         }\r\n         \r\n          let formData = new FormData();\r\n          formData.append(\"thingID\", '18');\r\n          formData.append('file', image);\r\n          const config = {\r\n             headers: {\r\n                'content-type': 'multipart/form-data',\r\n               \r\n           },\r\n          };\r\n          axios.post(\r\n            \"https://localhost:5001/api/image\",formData, config).\r\n            then(result => {console.log(result.status)});\r\n\r\n      }\r\n  \r\n    const handleBack= ()=>{\r\n      props.ClickHandler(false);\r\n    }\r\n  \r\n      return (\r\n        \r\n          \r\n        <Container>\r\n             <Row>\r\n               <Col xs={3}>\r\n               </Col>\r\n               <Col xs={6}>\r\n          <br/>\r\n\r\n            <Form>\r\n            <Form.Group>\r\n                <Form.Label> Name:</Form.Label>\r\n                 <Form.Control type=\"text\" value={name} onChange={handleChange1} />     \r\n            </Form.Group>\r\n\r\n\r\n            <Form.Group>\r\n                <Form.Label>Description:</Form.Label>\r\n                <Form.Control type=\"text\" value={description} onChange={handleChange2} /> \r\n            </Form.Group>\r\n\r\n              <Form.Group>\r\n                <Form.Label>\r\n                <Form.Control type=\"file\"\r\n                   id=\"file\"\r\n                   name=\"file\"\r\n                   accept=\"image/png, image/jpeg\"\r\n                   onChange={ (e: React.FormEvent<HTMLInputElement>) => handleImageChange(e.currentTarget.files)} />\r\n                </Form.Label>\r\n              </Form.Group>\r\n\r\n              <Form.Group>\r\n              <div><Button  onClick={handleSubmit}>Submit</Button>\r\n              <Button  onClick={handleBack}>Back</Button></div>\r\n              </Form.Group>\r\n             \r\n        </Form>\r\n\r\n        <br/>\r\n        </Col>\r\n              </Row>\r\n            </Container>\r\n       \r\n      );\r\n    \r\n  }\r\n\r\n"]},"metadata":{},"sourceType":"module"}